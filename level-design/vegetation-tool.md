# Vegetation Tool

Vegetation Edit Tool используется для создания и редактирования растительности. С его помощью можно добавлять, настраивать и удалять растительность на уровне.

## Кисти

Кисти – это настройки, определяющие, как и какая растительность будет нарисована. Кисти хранятся в отдельных файлах с расширением `.vbrush` в папках `environment\vegetation\brushes\`. Каждая кисть содержит набор вегетации и настройки для каждой вегетации.

### Загрузка кисти

Чтобы загрузить кисть, перетащите ее из папки `environment\vegetation\brushes` в AssetBrowser в окно Vegetation Edit Tool.&#x20;

### Создание кисти

Для создания собственной кисти  сначала нажмите на кнопку ![](<../.gitbook/assets/image (80).png>). Это действие создаст новую кисть, которая отобразится в списке кистей как "Unsaved brush".

Затем необходимо добавить вегетацию в эту кисть. Вегетация хранится в формате `.str` и находится в папках:

* environment/vegetation/creeper - Ползучие растения
* environment/vegetation/debris - Камни
* environment/vegetation/flower|flowers\_new - Цветы
* environment/vegetation/grass - Трава
* environment/vegetation/spiral - Растительности из [миров спирали](https://vedmak.fandom.com/wiki/%D0%A1%D0%BA%D0%B2%D0%BE%D0%B7%D1%8C\_%D0%B2%D1%80%D0%B5%D0%BC%D1%8F\_%D0%B8\_%D0%BF%D1%80%D0%BE%D1%81%D1%82%D1%80%D0%B0%D0%BD%D1%81%D1%82%D0%B2%D0%BE)
* environment/vegetation/trees - Деревья
* environment/vegetation/underwater - Подводная растительность
* environment/vegetation/vegetables - Овощи

Для добавления вегетации перетащите её из AssetBrowser в окно кисти. После того как вегетация добавлена в кисть, её можно [настроить](vegetation-tool.md#nastroika-vegetacii) в зависимости от ваших требований.

Чтобы сохранить созданную кисть как отдельный файл, нажмите на ![](<../.gitbook/assets/image (81).png>). Кисть будет сохранена и появится в списке кистей с заданным вами именем.

{% hint style="info" %}
Сохраняйте свои кисти внутри папки вашего мода, по пути dlc/<название длс>/environment/vegetation/brushes/<ваше имя>/
{% endhint %}

### Копирование кисти

Чтобы скопировать растительность в радиусе, выберите точку на уровне, где расположена растительность, которую вы хотите скопировать. Зажмите клавишу `Ctrl` и кликните по выбранной точке. Утилита автоматически скопирует всю растительность в пределах выбранного радиуса в новую кисть, которую вам необходимо сохранить.

Важно помнить, что растительность, скопированная в новую кисть будет без настроек, использованных при первоначальном рисовании вегетации в этой зоне. Все параметры растительности будут установлены по умолчанию, и вам потребуется настроить их заново.

### Блокировка кисти

Кисть можно заблокировать, чтобы упростить процесс добавления новой растительности. Когда кисть заблокирована, вся новая растительность, которую вы [копируете](vegetation-tool.md#kopirovanie-kisti) путем нажатия клавиши `Ctrl`, будет добавляться не в новую кисть, а в заблокированную кисть.

Для блокировки кисти необходимо нажать на значок замка рядом с выбранной кистью. Обратите внимание, что одновременно может быть заблокирована только одна кисть.

### Клонирование кисти

Для клонирования кисти выберете кисть которую вы хотите клонировать и нажмите на иконку ![](<../.gitbook/assets/image (4).png>).

## Вегетация

### Настройка вегетации

Есть три основных свойства, которые определяют, как будет рисоваться определенная вегетация. Эти параметры позволяют настроить плотность, базовый размер и вариации размера растительности.

<figure><img src="../.gitbook/assets/Знімок екрана 2024-07-21 155630.png" alt=""><figcaption></figcaption></figure>

<table><thead><tr><th width="64">№</th><th width="151">Название</th><th>Описание</th></tr></thead><tbody><tr><td>1</td><td>Radius scale</td><td>Определяет плотность размещения растительности. Чем выше значение, тем плотнее будет распределена растительность на выбранной области.</td></tr><tr><td>2</td><td>General scale</td><td>Определяет базовый размер каждой растительности.</td></tr><tr><td>3</td><td>Scale variation</td><td>Определяет вариацию размеров растительности. Размер каждого растения рассчитывается как базовый размер (general scale) плюс или минус значение в пределах scale variation. Например, если general scale равен 2, а scale variation равен 1, то размер каждого растения будет варьироваться от 1 до 3 (2 ± 1).</td></tr></tbody></table>

{% embed url="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2FKTpR2baZt07exAVMzmhU%2Fuploads%2FvPb6DiRajHJkKqcPZu34%2F2024-07-21%2019-16-13.mp4?alt=media&token=bd794f17-5ac1-4b9e-a21f-910096209031" %}

### Рисование вегетации

Чтобы начать рисование вегетации, выберите кисть из доступных. Затем просто начните рисовать по уровню, перемещая курсор с зажатой левой кнопкой мыши. Вы также можете рисовать отдельным растением, выбрав его внутри кисти.

Чтобы удалить вегетацию, выберите кисть и начните рисовать с зажатой клавишей `Shift`. Удаляться будут только те растения, которые есть в выбранной кисти.

{% hint style="info" %}
Если вам нужно удалить растительность, для которой у вас нет подходящей кисти, просто [скопируйте](vegetation-tool.md#kopirovanie-kisti) её в новую кисть и затем удалите.
{% endhint %}

### Рисование размера вегетации

Чтобы начать рисование размера вегетации, нажмите на кнопку "Paint size" и выберите кисть или конкретное растение внутри кисти. Начните рисовать, и размер растительности, находящейся в выбранной кисти, будет увеличиваться. Для уменьшения размера зажмите клавишу `Shift`.

Вы также можете отрегулировать силу изменения размера с помощью ползунка "Brush strength".

{% embed url="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2FKTpR2baZt07exAVMzmhU%2Fuploads%2FbNHP9vUm3ybx0JbbvnFY%2F2024-07-21%2017-25-31.mp4?alt=media&token=ebde2c2c-60d0-49d8-99d1-f863bdf6b297" %}

### Рисование положение вегетации

При работе с вегетацией вы можете столкнуться с ситуацией, когда растительность не корректно подстраивается под террейн во время его редактирования. Это может привести к тому, что деревья, кусты и другая растительность будут "летать" в воздухе или частично находиться внутри террейна. Для решения этой проблемы в утилите для рисования вегетации предусмотрена опция Paint alignment. Она позволяет перемещать всю вегетацию по  ландшафту к земле, обеспечивая корректное расположение объектов.

Чтобы начать рисование положения вегетации, нажмите на кнопку "Paint aligment" и выберите кисть или конкретное растение внутри кисти. Начните рисовать, и растительность, которая не прилагает к террейну, переместится под уровень террейна.

{% embed url="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2FKTpR2baZt07exAVMzmhU%2Fuploads%2F4VwRr21JmEKnD8TyHIfu%2F2024-07-21%2018-05-32.mp4?alt=media&token=bbd609a1-3bf9-4922-8743-cc7c86cd728b" %}

### Редактирование экземпляра вегетации

Чтобы редактировать каждую отдельную вегетацию индивидуально нажмите на кнопку "Pick sample", после чего вы сможете выбрать конкретную вегетацию, дерево или объект травы. Далее вы можете точечно редактировать выбранный объект, изменяя его размер, поворот или положение.

{% embed url="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2FKTpR2baZt07exAVMzmhU%2Fuploads%2FFfqWGeEboyjz0vcWO7LV%2F2024-07-21%2020-39-55.mp4?alt=media&token=d216538d-d4b5-4654-bb59-d0c49cfe0733" %}

{% hint style="info" %}
Редактирование отдельного экземпляра вегетации не работает для [сгенерированой](vegetation-tool.md#generaciya-vegetacii) травы.
{% endhint %}

## Генерация вегетации

Генерация травы позволяет автоматически размещать растительность на террейне, зависимо от материала (текстуры) террейна.&#x20;

Для начала откройте Asset Browser и выберите кисть, после перейдите в Terrain Edit Tool и откройте вкладку Materials. В этой вкладке назначьте выбранную кисть нужному материалу террейна. После назначения кисти материалу террейна редактор автоматически разместит вегетацию по всей области, где используется данный материал.

### Маска травы

Маска травы позволяет контролировать, где на уровне будет генерироваться вегетация. По умолчанию, маска установлена глобально на весь уровень и позволяет сгенерированную траву по всему уровню.

Чтобы отредактировать маску травы перейдите в Vegetation Edit Tool и нажмите "Paint grass mask". Начните рисовать маску в тех местах, где не хотите видеть генерацию травы. По умолчанию рисуется маска, которая исключает генерацию травы. Если вы хотите включить генерацию травы в ранее отключенных областях, удерживайте клавишу `Shift`.

{% embed url="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2FKTpR2baZt07exAVMzmhU%2Fuploads%2FtvD3rLGwxRZfSuHqxlBa%2F2024-07-21%2020-31-08.mp4?alt=media&token=67d3b515-f77f-4e81-8fc9-60b39df54b94" %}
